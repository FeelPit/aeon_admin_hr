{"ast":null,"code":"import React,{useState,useEffect}from'react';import{TrendingUp,Users,UserCheck,UserX,Calendar,ChevronDown}from'lucide-react';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,ArcElement}from'chart.js';import{Line,Pie}from'react-chartjs-2';// Регистрируем компоненты Chart.js\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,ArcElement);const Metrics=()=>{var _periodOptions$find;const[overview,setOverview]=useState(null);const[statusDistribution,setStatusDistribution]=useState(null);const[activityTimeline,setActivityTimeline]=useState(null);const[loading,setLoading]=useState(true);// Состояние для управления периодом\nconst[timeScope,setTimeScope]=useState('month');const[selectedPeriod,setSelectedPeriod]=useState('');const[showPeriodSelector,setShowPeriodSelector]=useState(false);// Обработчик клика вне селектора периода\nuseEffect(()=>{const handleClickOutside=event=>{const target=event.target;if(!target.closest('.period-selector')){setShowPeriodSelector(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// Генерируем список периодов для селектора\nconst generatePeriodOptions=()=>{const periods=[];const currentDate=new Date();if(timeScope==='month'){// Генерируем месяцы за последние 12 месяцев\nfor(let i=0;i<12;i++){const date=new Date(currentDate.getFullYear(),currentDate.getMonth()-i,1);const value=date.toISOString().slice(0,7);// YYYY-MM\nconst label=date.toLocaleDateString('ru-RU',{year:'numeric',month:'long'});periods.push({value,label});}}else{// Генерируем годы за последние 5 лет\nfor(let i=0;i<5;i++){const year=currentDate.getFullYear()-i;const value=year.toString();const label=year.toString();periods.push({value,label});}}return periods;};const periodOptions=generatePeriodOptions();// Получаем текущий период по умолчанию\nuseEffect(()=>{if(periodOptions.length>0&&!selectedPeriod){setSelectedPeriod(periodOptions[0].value);}},[periodOptions,selectedPeriod]);// Функция для загрузки данных с учетом периода\nconst fetchMetrics=async(period,scope)=>{const currentPeriod=period||selectedPeriod;const currentScope=scope||timeScope;try{setLoading(true);// Формируем параметры для API\nconst params=new URLSearchParams();if(currentPeriod){params.append('period',currentPeriod);params.append('scope',currentScope);}const[overviewRes,statusRes,activityRes]=await Promise.all([fetch(`/api/metrics/overview?${params}`),fetch(`/api/metrics/status-distribution?${params}`),fetch(`/api/metrics/activity-timeline?${params}`)]);const overviewData=await overviewRes.json();const statusData=await statusRes.json();const activityData=await activityRes.json();setOverview(overviewData);setStatusDistribution(statusData);setActivityTimeline(activityData);}catch(error){console.error('Ошибка загрузки метрик:',error);}finally{setLoading(false);}};// Загружаем данные при изменении периода\nuseEffect(()=>{if(selectedPeriod){fetchMetrics(selectedPeriod,timeScope);}else{// Если период не выбран, загружаем все данные\nfetchMetrics();}},[selectedPeriod,timeScope]);// Загружаем данные при монтировании компонента\nuseEffect(()=>{fetchMetrics();},[]);const getStatusColor=status=>{switch(status){case'ожидает':return'#fbbf24';// yellow-400\ncase'прошёл':return'#10b981';// green-500\ncase'приглашён':return'#3b82f6';// blue-500\ncase'отклонён':return'#ef4444';// red-500\ndefault:return'#6b7280';// gray-500\n}};// Функция для фильтрации данных по выбранному периоду\nconst getFilteredTimelineData=()=>{if(!(activityTimeline!==null&&activityTimeline!==void 0&&activityTimeline.timeline))return null;let startDate;let endDate;if(timeScope==='month'){const selectedDate=new Date(selectedPeriod+'-01');startDate=new Date(selectedDate.getFullYear(),selectedDate.getMonth(),1);endDate=new Date(selectedDate.getFullYear(),selectedDate.getMonth()+1,0);}else{const selectedYear=parseInt(selectedPeriod);startDate=new Date(selectedYear,0,1);endDate=new Date(selectedYear,11,31);}return activityTimeline.timeline.filter(item=>{const itemDate=new Date(item.date);return itemDate>=startDate&&itemDate<=endDate;});};// Подготовка данных для круговой диаграммы\nconst pieChartData=statusDistribution!==null&&statusDistribution!==void 0&&statusDistribution.distribution?{labels:statusDistribution.distribution.map(item=>item.status),datasets:[{data:statusDistribution.distribution.map(item=>item.count),backgroundColor:statusDistribution.distribution.map(item=>getStatusColor(item.status)),borderColor:statusDistribution.distribution.map(item=>getStatusColor(item.status)),borderWidth:2}]}:null;// Подготовка данных для линейной диаграммы\nconst filteredData=getFilteredTimelineData();const lineChartData=filteredData?{labels:filteredData.map(item=>{const date=new Date(item.date);if(timeScope==='month'){return date.toLocaleDateString('ru-RU',{day:'numeric'});}else{return date.toLocaleDateString('ru-RU',{month:'short'});}}),datasets:[{label:'Кандидаты',data:filteredData.map(item=>item.count),borderColor:'#3b82f6',backgroundColor:'rgba(59, 130, 246, 0.1)',tension:0.4,fill:true}]}:null;const pieChartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{usePointStyle:true,padding:20,font:{size:12}}},tooltip:{callbacks:{label:function(context){const total=context.dataset.data.reduce((a,b)=>a+b,0);const percentage=(context.parsed/total*100).toFixed(1);return`${context.label}: ${context.parsed} (${percentage}%)`;}}}}};const lineChartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},tooltip:{mode:'index',intersect:false}},scales:{y:{beginAtZero:true,ticks:{stepSize:1}}},interaction:{mode:'nearest',axis:'x',intersect:false}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u0412\\u044B\\u0431\\u043E\\u0440 \\u043F\\u0435\\u0440\\u0438\\u043E\\u0434\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"select\",{value:timeScope,onChange:e=>{setTimeScope(e.target.value);setSelectedPeriod('');// Сбрасываем выбранный период при смене типа\n},className:\"appearance-none bg-white border border-gray-300 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"month\",children:\"\\u041C\\u0435\\u0441\\u044F\\u0446\"}),/*#__PURE__*/_jsx(\"option\",{value:\"year\",children:\"\\u0413\\u043E\\u0434\"})]}),/*#__PURE__*/_jsx(ChevronDown,{className:\"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative period-selector\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowPeriodSelector(!showPeriodSelector),className:\"flex items-center space-x-2 bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{children:((_periodOptions$find=periodOptions.find(opt=>opt.value===selectedPeriod))===null||_periodOptions$find===void 0?void 0:_periodOptions$find.label)||'Выберите период'}),/*#__PURE__*/_jsx(ChevronDown,{className:\"h-4 w-4 text-gray-400\"})]}),showPeriodSelector&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto\",children:periodOptions.map(option=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedPeriod(option.value);setShowPeriodSelector(false);},className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 ${selectedPeriod===option.value?'bg-blue-50 text-blue-600':'text-gray-700'}`,children:option.label},option.value))})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Users,{className:\"h-8 w-8 text-main\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-add text-background-2\",children:\"\\u0412\\u0441\\u0435\\u0433\\u043E \\u043A\\u0430\\u043D\\u0434\\u0438\\u0434\\u0430\\u0442\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-subheaders text-background font-bold\",children:(overview===null||overview===void 0?void 0:overview.total_candidates)||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(UserCheck,{className:\"h-8 w-8 text-accept\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-add text-background-2\",children:\"\\u041F\\u0440\\u043E\\u0448\\u0435\\u0434\\u0448\\u0438\\u0435 \\u043A\\u0430\\u043D\\u0434\\u0438\\u0434\\u0430\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-subheaders text-background font-bold\",children:(overview===null||overview===void 0?void 0:overview.passed_candidates)||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-accent\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-add text-background-2\",children:\"\\u041F\\u0440\\u043E\\u0446\\u0435\\u043D\\u0442 \\u043F\\u0440\\u043E\\u0445\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-subheaders text-background font-bold\",children:[(overview===null||overview===void 0?void 0:overview.test_pass_rate)||0,\"%\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(UserX,{className:\"h-8 w-8 text-error\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-add text-background-2\",children:\"\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0451\\u043D\\u043D\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-subheaders text-background font-bold\",children:((overview===null||overview===void 0?void 0:overview.total_candidates)||0)-((overview===null||overview===void 0?void 0:overview.passed_candidates)||0)})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\u0420\\u0430\\u0441\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\\u0430\\u043C\"}),pieChartData?/*#__PURE__*/_jsx(\"div\",{className:\"h-80\",children:/*#__PURE__*/_jsx(Pie,{data:pieChartData,options:pieChartOptions})}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-80\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0434\\u043B\\u044F \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\\u0441\\u0442\\u044C \\u043F\\u043E \\u0434\\u043D\\u044F\\u043C\"}),lineChartData?/*#__PURE__*/_jsx(\"div\",{className:\"h-80\",children:/*#__PURE__*/_jsx(Line,{data:lineChartData,options:lineChartOptions})}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-80\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0434\\u043B\\u044F \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"})})]})]})]});};export default Metrics;","map":{"version":3,"names":["React","useState","useEffect","TrendingUp","Users","UserCheck","UserX","Calendar","ChevronDown","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ArcElement","Line","Pie","jsx","_jsx","jsxs","_jsxs","register","Metrics","_periodOptions$find","overview","setOverview","statusDistribution","setStatusDistribution","activityTimeline","setActivityTimeline","loading","setLoading","timeScope","setTimeScope","selectedPeriod","setSelectedPeriod","showPeriodSelector","setShowPeriodSelector","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","generatePeriodOptions","periods","currentDate","Date","i","date","getFullYear","getMonth","value","toISOString","slice","label","toLocaleDateString","year","month","push","toString","periodOptions","length","fetchMetrics","period","scope","currentPeriod","currentScope","params","URLSearchParams","append","overviewRes","statusRes","activityRes","Promise","all","fetch","overviewData","json","statusData","activityData","error","console","getStatusColor","status","getFilteredTimelineData","timeline","startDate","endDate","selectedDate","selectedYear","parseInt","filter","item","itemDate","pieChartData","distribution","labels","map","datasets","data","count","backgroundColor","borderColor","borderWidth","filteredData","lineChartData","day","tension","fill","pieChartOptions","responsive","maintainAspectRatio","plugins","legend","position","usePointStyle","padding","font","size","tooltip","callbacks","context","total","dataset","reduce","a","b","percentage","parsed","toFixed","lineChartOptions","display","mode","intersect","scales","y","beginAtZero","ticks","stepSize","interaction","axis","className","children","onChange","e","onClick","find","opt","option","total_candidates","passed_candidates","test_pass_rate","options"],"sources":["/Users/antonver/aeon_admin_hr-1/frontend/src/pages/Metrics.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  TrendingUp, \n  Users, \n  UserCheck,\n  UserX,\n  Calendar,\n  ChevronDown\n} from 'lucide-react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n} from 'chart.js';\nimport { Line, Pie } from 'react-chartjs-2';\n\n// Регистрируем компоненты Chart.js\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement\n);\n\ninterface MetricsData {\n  total_candidates: number;\n  passed_candidates: number;\n  test_pass_rate: number;\n}\n\ninterface StatusDistribution {\n  distribution: Array<{\n    status: string;\n    count: number;\n  }>;\n}\n\ninterface ActivityTimeline {\n  timeline: Array<{\n    date: string;\n    count: number;\n  }>;\n}\n\ntype TimeScope = 'month' | 'year';\n\nconst Metrics: React.FC = () => {\n  const [overview, setOverview] = useState<MetricsData | null>(null);\n  const [statusDistribution, setStatusDistribution] = useState<StatusDistribution | null>(null);\n  const [activityTimeline, setActivityTimeline] = useState<ActivityTimeline | null>(null);\n  const [loading, setLoading] = useState(true);\n  \n  // Состояние для управления периодом\n  const [timeScope, setTimeScope] = useState<TimeScope>('month');\n  const [selectedPeriod, setSelectedPeriod] = useState<string>('');\n  const [showPeriodSelector, setShowPeriodSelector] = useState(false);\n\n  // Обработчик клика вне селектора периода\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Element;\n      if (!target.closest('.period-selector')) {\n        setShowPeriodSelector(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Генерируем список периодов для селектора\n  const generatePeriodOptions = () => {\n    const periods = [];\n    const currentDate = new Date();\n    \n    if (timeScope === 'month') {\n      // Генерируем месяцы за последние 12 месяцев\n      for (let i = 0; i < 12; i++) {\n        const date = new Date(currentDate.getFullYear(), currentDate.getMonth() - i, 1);\n        const value = date.toISOString().slice(0, 7); // YYYY-MM\n        const label = date.toLocaleDateString('ru-RU', { \n          year: 'numeric', \n          month: 'long' \n        });\n        periods.push({ value, label });\n      }\n    } else {\n      // Генерируем годы за последние 5 лет\n      for (let i = 0; i < 5; i++) {\n        const year = currentDate.getFullYear() - i;\n        const value = year.toString();\n        const label = year.toString();\n        periods.push({ value, label });\n      }\n    }\n    \n    return periods;\n  };\n\n  const periodOptions = generatePeriodOptions();\n\n  // Получаем текущий период по умолчанию\n  useEffect(() => {\n    if (periodOptions.length > 0 && !selectedPeriod) {\n      setSelectedPeriod(periodOptions[0].value);\n    }\n  }, [periodOptions, selectedPeriod]);\n\n  // Функция для загрузки данных с учетом периода\n  const fetchMetrics = async (period?: string, scope?: TimeScope) => {\n    const currentPeriod = period || selectedPeriod;\n    const currentScope = scope || timeScope;\n    \n    try {\n      setLoading(true);\n      \n      // Формируем параметры для API\n      const params = new URLSearchParams();\n      if (currentPeriod) {\n        params.append('period', currentPeriod);\n        params.append('scope', currentScope);\n      }\n\n\n\n      const [\n        overviewRes,\n        statusRes,\n        activityRes\n      ] = await Promise.all([\n        fetch(`/api/metrics/overview?${params}`),\n        fetch(`/api/metrics/status-distribution?${params}`),\n        fetch(`/api/metrics/activity-timeline?${params}`)\n      ]);\n\n      const overviewData = await overviewRes.json();\n      const statusData = await statusRes.json();\n      const activityData = await activityRes.json();\n\n      setOverview(overviewData);\n      setStatusDistribution(statusData);\n      setActivityTimeline(activityData);\n    } catch (error) {\n      console.error('Ошибка загрузки метрик:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Загружаем данные при изменении периода\n  useEffect(() => {\n    if (selectedPeriod) {\n      fetchMetrics(selectedPeriod, timeScope);\n    } else {\n      // Если период не выбран, загружаем все данные\n      fetchMetrics();\n    }\n  }, [selectedPeriod, timeScope]);\n\n  // Загружаем данные при монтировании компонента\n  useEffect(() => {\n    fetchMetrics();\n  }, []);\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'ожидает': return '#fbbf24'; // yellow-400\n      case 'прошёл': return '#10b981'; // green-500\n      case 'приглашён': return '#3b82f6'; // blue-500\n      case 'отклонён': return '#ef4444'; // red-500\n      default: return '#6b7280'; // gray-500\n    }\n  };\n\n  // Функция для фильтрации данных по выбранному периоду\n  const getFilteredTimelineData = () => {\n    if (!activityTimeline?.timeline) return null;\n\n    let startDate: Date;\n    let endDate: Date;\n\n    if (timeScope === 'month') {\n      const selectedDate = new Date(selectedPeriod + '-01');\n      startDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), 1);\n      endDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1, 0);\n    } else {\n      const selectedYear = parseInt(selectedPeriod);\n      startDate = new Date(selectedYear, 0, 1);\n      endDate = new Date(selectedYear, 11, 31);\n    }\n\n    return activityTimeline.timeline.filter(item => {\n      const itemDate = new Date(item.date);\n      return itemDate >= startDate && itemDate <= endDate;\n    });\n  };\n\n  // Подготовка данных для круговой диаграммы\n  const pieChartData = statusDistribution?.distribution ? {\n    labels: statusDistribution.distribution.map(item => item.status),\n    datasets: [\n      {\n        data: statusDistribution.distribution.map(item => item.count),\n        backgroundColor: statusDistribution.distribution.map(item => getStatusColor(item.status)),\n        borderColor: statusDistribution.distribution.map(item => getStatusColor(item.status)),\n        borderWidth: 2,\n      },\n    ],\n  } : null;\n\n  // Подготовка данных для линейной диаграммы\n  const filteredData = getFilteredTimelineData();\n  const lineChartData = filteredData ? {\n    labels: filteredData.map(item => {\n      const date = new Date(item.date);\n      if (timeScope === 'month') {\n        return date.toLocaleDateString('ru-RU', { day: 'numeric' });\n      } else {\n        return date.toLocaleDateString('ru-RU', { month: 'short' });\n      }\n    }),\n    datasets: [\n      {\n        label: 'Кандидаты',\n        data: filteredData.map(item => item.count),\n        borderColor: '#3b82f6',\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\n        tension: 0.4,\n        fill: true,\n      },\n    ],\n  } : null;\n\n  const pieChartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom' as const,\n        labels: {\n          usePointStyle: true,\n          padding: 20,\n          font: {\n            size: 12,\n          },\n        },\n      },\n      tooltip: {\n        callbacks: {\n          label: function(context: any) {\n            const total = context.dataset.data.reduce((a: number, b: number) => a + b, 0);\n            const percentage = ((context.parsed / total) * 100).toFixed(1);\n            return `${context.label}: ${context.parsed} (${percentage}%)`;\n          },\n        },\n      },\n    },\n  };\n\n  const lineChartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: false,\n      },\n      tooltip: {\n        mode: 'index' as const,\n        intersect: false,\n      },\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        ticks: {\n          stepSize: 1,\n        },\n      },\n    },\n    interaction: {\n      mode: 'nearest' as const,\n      axis: 'x' as const,\n      intersect: false,\n    },\n  };\n\n\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n\n      {/* Period Selector */}\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">Выбор периода</h2>\n          \n          <div className=\"flex items-center space-x-3\">\n            {/* Селектор типа периода */}\n            <div className=\"relative\">\n              <select\n                value={timeScope}\n                onChange={(e) => {\n                  setTimeScope(e.target.value as TimeScope);\n                  setSelectedPeriod(''); // Сбрасываем выбранный период при смене типа\n                }}\n                className=\"appearance-none bg-white border border-gray-300 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"month\">Месяц</option>\n                <option value=\"year\">Год</option>\n              </select>\n              <ChevronDown className=\"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none\" />\n            </div>\n\n            {/* Селектор конкретного периода */}\n            <div className=\"relative period-selector\">\n              <button\n                onClick={() => setShowPeriodSelector(!showPeriodSelector)}\n                className=\"flex items-center space-x-2 bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <Calendar className=\"h-4 w-4 text-gray-500\" />\n                <span>\n                  {periodOptions.find(opt => opt.value === selectedPeriod)?.label || 'Выберите период'}\n                </span>\n                <ChevronDown className=\"h-4 w-4 text-gray-400\" />\n              </button>\n\n              {/* Выпадающий список периодов */}\n              {showPeriodSelector && (\n                <div className=\"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto\">\n                  {periodOptions.map((option) => (\n                    <button\n                      key={option.value}\n                      onClick={() => {\n                        setSelectedPeriod(option.value);\n                        setShowPeriodSelector(false);\n                      }}\n                      className={`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 ${\n                        selectedPeriod === option.value ? 'bg-blue-50 text-blue-600' : 'text-gray-700'\n                      }`}\n                    >\n                      {option.label}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Overview Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"card\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <Users className=\"h-8 w-8 text-main\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-add text-background-2\">Всего кандидатов</p>\n              <p className=\"text-subheaders text-background font-bold\">\n                {overview?.total_candidates || 0}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <UserCheck className=\"h-8 w-8 text-accept\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-add text-background-2\">Прошедшие кандидаты</p>\n              <p className=\"text-subheaders text-background font-bold\">\n                {overview?.passed_candidates || 0}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <TrendingUp className=\"h-8 w-8 text-accent\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-add text-background-2\">Процент прохождения</p>\n              <p className=\"text-subheaders text-background font-bold\">\n                {overview?.test_pass_rate || 0}%\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <UserX className=\"h-8 w-8 text-error\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-add text-background-2\">Отклонённые</p>\n              <p className=\"text-subheaders text-background font-bold\">\n                {(overview?.total_candidates || 0) - (overview?.passed_candidates || 0)}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Status Distribution - Pie Chart */}\n        <div className=\"card\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Распределение по статусам</h2>\n          {pieChartData ? (\n            <div className=\"h-80\">\n              <Pie data={pieChartData} options={pieChartOptions} />\n            </div>\n          ) : (\n            <div className=\"flex items-center justify-center h-80\">\n              <p className=\"text-gray-500\">Нет данных для отображения</p>\n            </div>\n          )}\n        </div>\n\n        {/* Activity Timeline - Line Chart */}\n        <div className=\"card\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Активность по дням</h2>\n          {lineChartData ? (\n            <div className=\"h-80\">\n              <Line data={lineChartData} options={lineChartOptions} />\n            </div>\n          ) : (\n            <div className=\"flex items-center justify-center h-80\">\n              <p className=\"text-gray-500\">Нет данных для отображения</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Metrics; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}