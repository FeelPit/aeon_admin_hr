{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{ArrowLeft,Edit,Save,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CandidateDetail=()=>{const{id}=useParams();const[candidate,setCandidate]=useState(null);const[editData,setEditData]=useState({});const[comments,setComments]=useState([]);const[loading,setLoading]=useState(true);const[editing,setEditing]=useState(false);const[newComment,setNewComment]=useState('');const[actionMessage,setActionMessage]=useState(null);useEffect(()=>{if(id){fetchCandidateData();}},[id]);useEffect(()=>{if(editing&&candidate){setEditData({...candidate});}},[editing,candidate]);const fetchCandidateData=async()=>{try{const[candidateRes,commentsRes]=await Promise.all([fetch(`/api/candidates/${id}`),fetch(`/api/candidates/${id}/comments`)]);const candidateData=await candidateRes.json();const commentsData=await commentsRes.json();setCandidate(candidateData);setComments(commentsData);}catch(error){console.error('Ошибка загрузки данных кандидата:',error);}finally{setLoading(false);}};const getStatusColor=status=>{switch(status){case'ожидает':return'status-waiting';case'прошёл':return'status-passed';case'приглашён':return'status-invited';case'отклонён':return'status-rejected';default:return'status-waiting';}};const handleAddComment=async()=>{if(!candidate||!newComment.trim())return;try{const response=await fetch(`/api/candidates/${candidate.id}/comments`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({candidate_id:candidate.id,hr_comment:newComment})});if(response.ok){setNewComment('');fetchCandidateData();}}catch(error){console.error('Ошибка добавления комментария:',error);}};const copyCandidateData=()=>{if(!candidate)return;const data=`Имя: ${candidate.full_name}\\nTelegram: ${candidate.telegram_username||'Нет'}\\nСтатус: ${candidate.status}`;navigator.clipboard.writeText(data);setActionMessage('Данные скопированы в буфер обмена');setTimeout(()=>setActionMessage(null),3000);};const handleEditChange=(field,value)=>{setEditData(prev=>({...prev,[field]:value}));};const handleSave=async()=>{if(!candidate)return;try{const response=await fetch(`/api/candidates/${candidate.id}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(editData)});if(response.ok){setEditing(false);setActionMessage('Изменения сохранены');fetchCandidateData();setTimeout(()=>setActionMessage(null),3000);}else{setActionMessage('Ошибка сохранения');setTimeout(()=>setActionMessage(null),3000);}}catch(error){setActionMessage('Ошибка сохранения');setTimeout(()=>setActionMessage(null),3000);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(!candidate){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"\\u041A\\u0430\\u043D\\u0434\\u0438\\u0434\\u0430\\u0442 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\"}),/*#__PURE__*/_jsx(Link,{to:\"/candidates\",className:\"text-main hover:text-secondary\",children:\"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[actionMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 right-4 bg-main text-white px-6 py-3 rounded-lg shadow-lg z-50\",children:actionMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/candidates\",className:\"text-background-2 hover:text-background\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-headers text-background\",children:candidate.full_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-main text-background-2\",children:\"\\u041A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0430 \\u043A\\u0430\\u043D\\u0434\\u0438\\u0434\\u0430\\u0442\\u0430\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setEditing(!editing),className:\"btn btn-secondary flex items-center space-x-2\",children:[editing?/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:editing?'Отмена':'Редактировать'})]}),editing&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"btn btn-primary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-subheaders text-background font-bold mb-4\",children:\"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-main text-background mb-1\",children:\"\\u0424\\u0418\\u041E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editing?editData.full_name||'':candidate.full_name,disabled:!editing,onChange:e=>handleEditChange('full_name',e.target.value),className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-main text-background mb-1\",children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"}),/*#__PURE__*/_jsxs(\"select\",{value:editing?editData.status||'':candidate.status,disabled:!editing,onChange:e=>handleEditChange('status',e.target.value),className:\"input-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u043E\\u0436\\u0438\\u0434\\u0430\\u0435\\u0442\",children:\"\\u041E\\u0436\\u0438\\u0434\\u0430\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u043F\\u0440\\u043E\\u0448\\u0451\\u043B\",children:\"\\u041F\\u0440\\u043E\\u0448\\u0451\\u043B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u043F\\u0440\\u0438\\u0433\\u043B\\u0430\\u0448\\u0451\\u043D\",children:\"\\u041F\\u0440\\u0438\\u0433\\u043B\\u0430\\u0448\\u0451\\u043D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u043E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0451\\u043D\",children:\"\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0451\\u043D\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-main text-background mb-1\",children:\"Telegram\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editing?editData.telegram_username||'':candidate.telegram_username||'',disabled:!editing,onChange:e=>handleEditChange('telegram_username',e.target.value),className:\"input-field\",placeholder:\"@username\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\u041E\\u0442\\u0447\\u0451\\u0442 \\xC6ON-\\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u044C\\u044E\"}),candidate.results?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-2\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u0442\\u0435\\u0441\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-wrap\",children:candidate.results})]})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u0442\\u0435\\u0441\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u044E\\u0442\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0438 HR\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439...\",className:\"input-field h-20 resize-none\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddComment,disabled:!newComment.trim(),className:\"mt-2 btn-primary w-full\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:comments.map(comment=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700\",children:comment.hr_comment}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(comment.created_at).toLocaleDateString()})]},comment.id))})]})})]})]});};export default CandidateDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","ArrowLeft","Edit","Save","X","jsx","_jsx","jsxs","_jsxs","CandidateDetail","id","candidate","setCandidate","editData","setEditData","comments","setComments","loading","setLoading","editing","setEditing","newComment","setNewComment","actionMessage","setActionMessage","fetchCandidateData","candidateRes","commentsRes","Promise","all","fetch","candidateData","json","commentsData","error","console","getStatusColor","status","handleAddComment","trim","response","method","headers","body","JSON","stringify","candidate_id","hr_comment","ok","copyCandidateData","data","full_name","telegram_username","navigator","clipboard","writeText","setTimeout","handleEditChange","field","value","prev","handleSave","className","children","to","onClick","type","disabled","onChange","e","target","placeholder","results","map","comment","Date","created_at","toLocaleDateString"],"sources":["/Users/antonver/aeon_admin_hr-1/frontend/src/pages/CandidateDetail.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { \n  ArrowLeft,\n  Edit,\n  Save,\n  X\n} from 'lucide-react';\n\ninterface Candidate {\n  id: number;\n  full_name: string;\n  name?: string;\n  telegram_username?: string;\n  status: string;\n  results?: string;\n  last_action_date: string;\n  last_action_type?: string;\n  created_at: string;\n  updated_at: string;\n}\n\n\n\ninterface Comment {\n  id: number;\n  hr_comment: string;\n  created_at: string;\n}\n\nconst CandidateDetail: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const [candidate, setCandidate] = useState<Candidate | null>(null);\n  const [editData, setEditData] = useState<Partial<Candidate>>({});\n  const [comments, setComments] = useState<Comment[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [actionMessage, setActionMessage] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (id) {\n      fetchCandidateData();\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (editing && candidate) {\n      setEditData({ ...candidate });\n    }\n  }, [editing, candidate]);\n\n  const fetchCandidateData = async () => {\n    try {\n      const [candidateRes, commentsRes] = await Promise.all([\n        fetch(`/api/candidates/${id}`),\n        fetch(`/api/candidates/${id}/comments`)\n      ]);\n\n      const candidateData = await candidateRes.json();\n      const commentsData = await commentsRes.json();\n\n      setCandidate(candidateData);\n      setComments(commentsData);\n    } catch (error) {\n      console.error('Ошибка загрузки данных кандидата:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'ожидает': return 'status-waiting';\n      case 'прошёл': return 'status-passed';\n      case 'приглашён': return 'status-invited';\n      case 'отклонён': return 'status-rejected';\n      default: return 'status-waiting';\n    }\n  };\n\n\n\n  const handleAddComment = async () => {\n    if (!candidate || !newComment.trim()) return;\n    try {\n      const response = await fetch(`/api/candidates/${candidate.id}/comments`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          candidate_id: candidate.id,\n          hr_comment: newComment,\n        }),\n      });\n      if (response.ok) {\n        setNewComment('');\n        fetchCandidateData();\n      }\n    } catch (error) {\n      console.error('Ошибка добавления комментария:', error);\n    }\n  };\n\n  const copyCandidateData = () => {\n    if (!candidate) return;\n    const data = `Имя: ${candidate.full_name}\\nTelegram: ${candidate.telegram_username || 'Нет'}\\nСтатус: ${candidate.status}`;\n    navigator.clipboard.writeText(data);\n    setActionMessage('Данные скопированы в буфер обмена');\n    setTimeout(() => setActionMessage(null), 3000);\n  };\n\n  const handleEditChange = (field: keyof Candidate, value: string) => {\n    setEditData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleSave = async () => {\n    if (!candidate) return;\n    try {\n      const response = await fetch(`/api/candidates/${candidate.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(editData),\n      });\n      if (response.ok) {\n        setEditing(false);\n        setActionMessage('Изменения сохранены');\n        fetchCandidateData();\n        setTimeout(() => setActionMessage(null), 3000);\n      } else {\n        setActionMessage('Ошибка сохранения');\n        setTimeout(() => setActionMessage(null), 3000);\n      }\n    } catch (error) {\n      setActionMessage('Ошибка сохранения');\n      setTimeout(() => setActionMessage(null), 3000);\n    }\n  };\n\n\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  if (!candidate) {\n    return (\n      <div className=\"text-center py-12\">\n        <h2 className=\"text-xl font-semibold text-gray-900\">Кандидат не найден</h2>\n        <Link to=\"/candidates\" className=\"text-main hover:text-secondary\">\n          Вернуться к списку\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Action Message */}\n      {actionMessage && (\n        <div className=\"fixed top-4 right-4 bg-main text-white px-6 py-3 rounded-lg shadow-lg z-50\">\n          {actionMessage}\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <Link\n            to=\"/candidates\"\n            className=\"text-background-2 hover:text-background\"\n          >\n            <ArrowLeft className=\"h-6 w-6\" />\n          </Link>\n          <div>\n            <h1 className=\"text-headers text-background\">{candidate.full_name}</h1>\n            <p className=\"text-main text-background-2\">Карточка кандидата</p>\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <button\n            onClick={() => setEditing(!editing)}\n            className=\"btn btn-secondary flex items-center space-x-2\"\n          >\n            {editing ? <X className=\"h-4 w-4\" /> : <Edit className=\"h-4 w-4\" />}\n            <span>{editing ? 'Отмена' : 'Редактировать'}</span>\n          </button>\n          {editing && (\n            <button onClick={handleSave} className=\"btn btn-primary flex items-center space-x-2\">\n              <Save className=\"h-4 w-4\" />\n              <span>Сохранить</span>\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Основная информация */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {/* Информация о кандидате */}\n          <div className=\"card\">\n            <h2 className=\"text-subheaders text-background font-bold mb-4\">Основная информация</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-main text-background mb-1\">\n                  ФИО\n                </label>\n                <input\n                  type=\"text\"\n                  value={editing ? editData.full_name || '' : candidate.full_name}\n                  disabled={!editing}\n                  onChange={e => handleEditChange('full_name', e.target.value)}\n                  className=\"input-field\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-main text-background mb-1\">\n                  Статус\n                </label>\n                <select\n                  value={editing ? editData.status || '' : candidate.status}\n                  disabled={!editing}\n                  onChange={e => handleEditChange('status', e.target.value)}\n                  className=\"input-field\"\n                >\n                  <option value=\"ожидает\">Ожидает</option>\n                  <option value=\"прошёл\">Прошёл</option>\n                  <option value=\"приглашён\">Приглашён</option>\n                  <option value=\"отклонён\">Отклонён</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-main text-background mb-1\">\n                  Telegram\n                </label>\n                <input\n                  type=\"text\"\n                  value={editing ? editData.telegram_username || '' : candidate.telegram_username || ''}\n                  disabled={!editing}\n                  onChange={e => handleEditChange('telegram_username', e.target.value)}\n                  className=\"input-field\"\n                  placeholder=\"@username\"\n                />\n              </div>\n\n            </div>\n          </div>\n\n          {/* Результаты тестирования */}\n          <div className=\"card\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Отчёт ÆON-интервью</h2>\n            {candidate.results ? (\n              <div className=\"space-y-4\">\n                <div className=\"border border-gray-200 rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <h3 className=\"font-medium text-gray-900\">Результаты тестирования</h3>\n                  </div>\n                  <p className=\"text-gray-700 whitespace-pre-wrap\">{candidate.results}</p>\n                </div>\n              </div>\n            ) : (\n              <p className=\"text-gray-500\">Результаты тестирования отсутствуют</p>\n            )}\n          </div>\n        </div>\n\n        {/* Боковая панель */}\n        <div className=\"space-y-6\">\n\n\n          {/* Комментарии HR */}\n          <div className=\"card\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Комментарии HR</h2>\n            \n            {/* Добавить комментарий */}\n            <div className=\"mb-4\">\n              <textarea\n                value={newComment}\n                onChange={(e) => setNewComment(e.target.value)}\n                placeholder=\"Добавить комментарий...\"\n                className=\"input-field h-20 resize-none\"\n              />\n              <button\n                onClick={handleAddComment}\n                disabled={!newComment.trim()}\n                className=\"mt-2 btn-primary w-full\"\n              >\n                Добавить\n              </button>\n            </div>\n\n            {/* Список комментариев */}\n            <div className=\"space-y-3\">\n              {comments.map((comment) => (\n                <div key={comment.id} className=\"bg-gray-50 rounded-lg p-3\">\n                  <p className=\"text-sm text-gray-700\">{comment.hr_comment}</p>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    {new Date(comment.created_at).toLocaleDateString()}\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CandidateDetail; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}